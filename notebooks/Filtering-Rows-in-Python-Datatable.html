
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Filtering Rows in Datatable &#8212; Data Wrangling and Automation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script kind="utterances">

    var commentsRunWhenDOMLoaded = cb => {
    if (document.readyState != 'loading') {
        cb()
    } else if (document.addEventListener) {
        document.addEventListener('DOMContentLoaded', cb)
    } else {
        document.attachEvent('onreadystatechange', function() {
        if (document.readyState == 'complete') cb()
        })
    }
}

var addUtterances = () => {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src = "https://utteranc.es/client.js";
    script.async = "async";

    script.setAttribute("repo", "samukweku/data-wrangling-blog");
    script.setAttribute("issue-term", "pathname");
    script.setAttribute("theme", "github-light");
    script.setAttribute("label", "ðŸ’¬ comment");
    script.setAttribute("crossorigin", "anonymous");

    sections = document.querySelectorAll("div.section");
    if (sections !== null) {
        section = sections[sections.length-1];
        section.appendChild(script);
    }
}
commentsRunWhenDOMLoaded(addUtterances);
</script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/Filtering-Rows-in-Python-Datatable';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Selecting and Grouping Data with Python Datatable" href="Selecting-and-Grouping-Data-with-Python-Datatable.html" />
    <link rel="prev" title="SpreadSheet Munging Strategies in Python - Pivot Tables - Complex Unpivoting" href="Pivot-Tables-Complex-Unpivoting.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Data Wrangling and Automation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Data Wrangling Recipes
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Meaningful-Formats.html">SpreadSheet Munging Strategies in Python - Meaningful Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="Read-Multiple-Csv-Files-into-one-Table-in-Python.html">Read Multiple CSV Files into one Frame in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Conditional-Statements.html">Data Wrangling with Python Datatable - Conditional Statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fast-and-Efficient-Inequality-Joins-in-Pandas.html">Fast and Efficient Inequality Joins in Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Row-wise-Transformations.html">Data Wrangling with Python Datatable - Row-wise Transformations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Replicating-SD-in-python-datatable.html">Replicating .SD in Python Datatable</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pivot-Tables---Simple-Unpivoting.html">SpreadSheet Munging Strategies in Python - Pivot Tables - Simple Unpivoting</a></li>

<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Select-Columns-by-Data-Type.html">Data Wrangling with Python Datatable - Select Columns by Data Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pivot_longer---Reshape-Data-in-Pandas-with-Ease-From-Wide-to-Long.html">Pivot_longer : Reshape Data in Pandas Efficiently and with Ease from Wide to Long</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Replicate-Pandas-map.html">Data Wrangling with Python Datatable - Replicate Pandasâ€™ Map Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="Pivot-Tables-Complex-Unpivoting.html">SpreadSheet Munging Strategies in Python - Pivot Tables - Complex Unpivoting</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Filtering Rows in Datatable</a></li>
<li class="toctree-l1"><a class="reference internal" href="Selecting-and-Grouping-Data-with-Python-Datatable.html">Selecting and Grouping Data with Python Datatable</a></li>
<li class="toctree-l1"><a class="reference internal" href="Extract-DataFrame-from-Compressed-Data-into-Pandas.html">Extract DataFrame from Compressed Data into Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="Web-Scraping-in-Python.html">Easy Web Scraping with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Selecting-Columns.html">Data Wrangling with Python Datatable - Selecting Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="Extract-DataFrame-from-Compressed-Data-into-Python-Datatable.html">Extract DataFrame from Compressed Data into Python Datatable</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable---Transformations-Within-a-GroupBy.html">Data Wrangling with Python Datatable - Transformations Within a GroupBy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Small-Multiples.html">SpreadSheet Munging Strategies in Python - Small Multiples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Data-Wrangling-with-Python-Datatable-Aggregation-on-Multiple-Columns.html">Data Wrangling - Aggregation on Multiple Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="Access-Tables-In-Excel.html">Access Excel Tables with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="dplyr-across-in-Pandas.html">Dplyrâ€™s across: Replicating within Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="dplyr-across-in-Polars.html">Dplyrâ€™s across: Replicating within Polars</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/samukweku/data-wrangling-blog" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/samukweku/data-wrangling-blog/issues/new?title=Issue%20on%20page%20%2Fnotebooks/Filtering-Rows-in-Python-Datatable.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/notebooks/Filtering-Rows-in-Python-Datatable.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Filtering Rows in Datatable</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-row-filters"><strong>Basic Row Filters</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-a-numeric-variable">Filtering Rows Based on a Numeric Variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-based-on-string-matches">Filtering based on String Matches</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-regex">Filtering Rows Based on Regex</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-multiple-conditions">Filtering Rows based on Multiple Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-out-empty-rows">Filtering out Empty Rows</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-across-multiple-columns">Filtering across Multiple Columns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filter-across-all-columns">Filter across all Columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filter-at">Filter at</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="filtering-rows-in-datatable">
<h1>Filtering Rows in Datatable<a class="headerlink" href="#filtering-rows-in-datatable" title="Link to this heading">#</a></h1>
<p>This article highlights various ways of filtering rows in python <a class="reference external" href="https://datatable.readthedocs.io/en/latest/">datatable</a>. The examples used here are based off the excellent <a class="reference external" href="https://suzan.rbind.io/2018/02/dplyr-tutorial-3/">article</a> by <a class="reference external" href="https://twitter.com/SuzanBaert">Susan Baert</a>.</p>
<p>The data file can be accessed <a class="reference external" href="https://github.com/samukweku/data_files/raw/master/msleep.txt">here</a></p>
<section id="basic-row-filters">
<h2><strong>Basic Row Filters</strong><a class="headerlink" href="#basic-row-filters" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datatable</span> <span class="kn">import</span> <span class="n">dt</span><span class="p">,</span> <span class="n">f</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span>  <span class="n">or_</span><span class="p">,</span> <span class="n">xor</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type='text/css'>
.datatable table.frame { margin-bottom: 0; }
.datatable table.frame thead { border-bottom: none; }
.datatable table.frame tr.coltypes td {  color: #FFFFFF;  line-height: 6px;  padding: 0 0.5em;}
.datatable .bool    { background: #DDDD99; }
.datatable .object  { background: #565656; }
.datatable .int     { background: #5D9E5D; }
.datatable .float   { background: #4040CC; }
.datatable .str     { background: #CC4040; }
.datatable .time    { background: #40CC40; }
.datatable .row_index {  background: var(--jp-border-color3);  border-right: 1px solid var(--jp-border-color0);  color: var(--jp-ui-font-color3);  font-size: 9px;}
.datatable .frame tbody td { text-align: left; }
.datatable .frame tr.coltypes .row_index {  background: var(--jp-border-color0);}
.datatable th:nth-child(2) { padding-left: 12px; }
.datatable .hellipsis {  color: var(--jp-cell-editor-border-color);}
.datatable .vellipsis {  background: var(--jp-layout-color0);  color: var(--jp-cell-editor-border-color);}
.datatable .na {  color: var(--jp-cell-editor-border-color);  font-size: 80%;}
.datatable .sp {  opacity: 0.25;}
.datatable .footer { font-size: 9px; }
.datatable .frame_dimensions {  background: var(--jp-border-color3);  border-top: 1px solid var(--jp-border-color0);  color: var(--jp-ui-font-color3);  display: inline-block;  opacity: 0.6;  padding: 1px 10px 1px 5px;}
</style>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">file_path</span> <span class="o">=</span> <span class="s2">&quot;Data_files/msleep.txt&quot;</span>

<span class="n">DT</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">fread</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>

<span class="n">DT</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>genus</th><th>vore</th><th>order</th><th>conservation</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th><th>awake</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cheetah</td><td>Acinonyx</td><td>carni</td><td>Carnivora</td><td>lc</td><td>12.1</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>11.9</td><td><span class=na>NA</span></td><td>50</td></tr>
    <tr><td class='row_index'>1</td><td>Owl monkey</td><td>Aotus</td><td>omni</td><td>Primates</td><td><span class=na>NA</span></td><td>17</td><td>1.8</td><td><span class=na>NA</span></td><td>7</td><td>0.0155</td><td>0.48</td></tr>
    <tr><td class='row_index'>2</td><td>Mountain beaver</td><td>Aplodontia</td><td>herbi</td><td>Rodentia</td><td>nt</td><td>14.4</td><td>2.4</td><td><span class=na>NA</span></td><td>9.6</td><td><span class=na>NA</span></td><td>1.35</td></tr>
    <tr><td class='row_index'>3</td><td>Greater short-tailed shrew</td><td>Blarina</td><td>omni</td><td>Soricomorpha</td><td>lc</td><td>14.9</td><td>2.3</td><td>0.133333</td><td>9.1</td><td>0.00029</td><td>0.019</td></tr>
    <tr><td class='row_index'>4</td><td>Cow</td><td>Bos</td><td>herbi</td><td>Artiodactyla</td><td>domesticated</td><td>4</td><td>0.7</td><td>0.666667</td><td>20</td><td>0.423</td><td>600</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>5 rows &times; 11 columns</div>
  </div>
</div>
</div></div>
</div>
<section id="filtering-rows-based-on-a-numeric-variable">
<h3>Filtering Rows Based on a Numeric Variable<a class="headerlink" href="#filtering-rows-based-on-a-numeric-variable" title="Link to this heading">#</a></h3>
<p>You can filter numeric variables based on their values. A number of commonly used operators include: &gt;, &gt;=, &lt;, &lt;=, == and !=.</p>
<p>Note that in datatable, filtration occurs in the <code class="docutils literal notranslate"><span class="pre">i</span></code> section:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">sleep_total</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">,</span>  <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Big brown bat</td><td>19.7</td></tr>
    <tr><td class='row_index'>1</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
    <tr><td class='row_index'>2</td><td>Little brown bat</td><td>19.9</td></tr>
    <tr><td class='row_index'>3</td><td>Giant armadillo</td><td>18.1</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 2 columns</div>
  </div>
</div>
</div></div>
</div>
<p>To select a range of values, you can use two logical requirements; in the example below, only rows where <code class="docutils literal notranslate"><span class="pre">sleep_total</span></code> is greater than or equal to 16, and less than or equal to 18 are selected:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[(</span><span class="n">f</span><span class="o">.</span><span class="n">sleep_total</span> <span class="o">&gt;=</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">sleep_total</span> <span class="o">&lt;=</span> <span class="mi">18</span><span class="p">),</span>  <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Owl monkey</td><td>17</td></tr>
    <tr><td class='row_index'>1</td><td>Long-nosed armadillo</td><td>17.4</td></tr>
    <tr><td class='row_index'>2</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>3</td><td>Arctic ground squirrel</td><td>16.6</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 2 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Note in the code above, that each condition is wrapped in parentheses; this is to ensure that the correct output is obtained.</p>
<p>In <a class="reference external" href="https://www.google.com/url?sa=t&amp;amp;rct=j&amp;amp;q=&amp;amp;esrc=s&amp;amp;source=web&amp;amp;cd=&amp;amp;cad=rja&amp;amp;uact=8&amp;amp;ved=2ahUKEwi-ybqouovvAhWRzjgGHcYtB1sQFjAAegQIAxAD&amp;amp;url=https%3A%2F%2Fpandas.pydata.org%2Fpandas-docs%2Fstable%2Freference%2Fapi%2Fpandas.Series.between.html&amp;amp;usg=AOvVaw2JuKj72awwkzd_18ykvwPx">Pandas</a>/<a class="reference external" href="https://dplyr.tidyverse.org/reference/between.html">dplyr</a>/<a class="reference external" href="https://rdatatable.gitlab.io/data.table/reference/between.html">rdatatable</a>, there is a <code class="docutils literal notranslate"><span class="pre">between</span></code> function that makes selection such as the above easier; at the moment, there is no equivalent function in <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/index-api.html">datatable</a>; you can create a temporary <code class="docutils literal notranslate"><span class="pre">between</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">between</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
    <span class="n">l</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">left</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">&lt;=</span><span class="n">right</span>
    <span class="k">return</span> <span class="n">l</span> <span class="o">&amp;</span> <span class="n">r</span>

<span class="n">DT</span><span class="p">[</span><span class="n">between</span><span class="p">(</span><span class="s1">&#39;sleep_total&#39;</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">),</span>  <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Owl monkey</td><td>17</td></tr>
    <tr><td class='row_index'>1</td><td>Long-nosed armadillo</td><td>17.4</td></tr>
    <tr><td class='row_index'>2</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>3</td><td>Arctic ground squirrel</td><td>16.6</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 2 columns</div>
  </div>
</div>
</div></div>
</div>
<p>There are scenarios where you may want to select rows where the value is nearly a given value. You may also want to specify a tolerance value to indicate how far the values can be.</p>
<p>This can be replicated with the <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/math/isclose.html">isclose</a> function in the <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/math.html">datatable.math</a> submodule.</p>
<p>Letâ€™s assume that the tolerance should be within one standard deviation of 17:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datatable.math</span> <span class="kn">import</span> <span class="n">isclose</span>

<span class="c1"># calculate tolerance</span>
<span class="n">tolerance</span> <span class="o">=</span> <span class="n">DT</span><span class="p">[</span><span class="s1">&#39;sleep_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sd1</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">isclose</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">sleep_total</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="n">atol</span> <span class="o">=</span> <span class="n">tolerance</span><span class="p">),</span>  <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Owl monkey</td><td>17</td></tr>
    <tr><td class='row_index'>1</td><td>Mountain beaver</td><td>14.4</td></tr>
    <tr><td class='row_index'>2</td><td>Greater short-tailed shrew</td><td>14.9</td></tr>
    <tr><td class='row_index'>3</td><td>Three-toed sloth</td><td>14.4</td></tr>
    <tr><td class='row_index'>4</td><td>Long-nosed armadillo</td><td>17.4</td></tr>
    <tr><td class='row_index'>5</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>6</td><td>Big brown bat</td><td>19.7</td></tr>
    <tr><td class='row_index'>7</td><td>Western american chipmunk</td><td>14.9</td></tr>
    <tr><td class='row_index'>8</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
    <tr><td class='row_index'>9</td><td>Mongolian gerbil</td><td>14.2</td></tr>
    <tr><td class='row_index'>10</td><td>Golden hamster</td><td>14.3</td></tr>
    <tr><td class='row_index'>11</td><td>Vole</td><td>12.8</td></tr>
    <tr><td class='row_index'>12</td><td>Little brown bat</td><td>19.9</td></tr>
    <tr><td class='row_index'>13</td><td>Round-tailed muskrat</td><td>14.6</td></tr>
    <tr><td class='row_index'>14</td><td>Northern grasshopper mouse</td><td>14.5</td></tr>
    <tr><td class='row_index'>15</td><td>Tiger</td><td>15.8</td></tr>
    <tr><td class='row_index'>16</td><td>Lion</td><td>13.5</td></tr>
    <tr><td class='row_index'>17</td><td>Phalanger</td><td>13.7</td></tr>
    <tr><td class='row_index'>18</td><td>Giant armadillo</td><td>18.1</td></tr>
    <tr><td class='row_index'>19</td><td>Laboratory rat</td><td>13</td></tr>
    <tr><td class='row_index'>20</td><td>Arctic ground squirrel</td><td>16.6</td></tr>
    <tr><td class='row_index'>21</td><td>Thirteen-lined ground squirrel</td><td>13.8</td></tr>
    <tr><td class='row_index'>22</td><td>Golden-mantled ground squirrel</td><td>15.9</td></tr>
    <tr><td class='row_index'>23</td><td>Musk shrew</td><td>12.8</td></tr>
    <tr><td class='row_index'>24</td><td>Eastern american chipmunk</td><td>15.8</td></tr>
    <tr><td class='row_index'>25</td><td>Tenrec</td><td>15.6</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>26 rows &times; 2 columns</div>
  </div>
</div>
</div></div>
</div>
</section>
<section id="filtering-based-on-string-matches">
<h3>Filtering based on String Matches<a class="headerlink" href="#filtering-based-on-string-matches" title="Link to this heading">#</a></h3>
<p>You can select on string matches as well; in the example below, the <code class="docutils literal notranslate"><span class="pre">==</span></code> comparison operator is used to select a specific group of animals:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s2">&quot;Didelphimorphia&quot;</span><span class="p">,</span>  <span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Didelphimorphia</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>1</td><td>Didelphimorphia</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>2 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Other operators can be used also:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">order</span> <span class="o">!=</span> <span class="s1">&#39;Rodentia&#39;</span><span class="p">,</span>  <span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Carnivora</td><td>Cheetah</td><td>12.1</td></tr>
    <tr><td class='row_index'>1</td><td>Primates</td><td>Owl monkey</td><td>17</td></tr>
    <tr><td class='row_index'>2</td><td>Soricomorpha</td><td>Greater short-tailed shrew</td><td>14.9</td></tr>
    <tr><td class='row_index'>3</td><td>Artiodactyla</td><td>Cow</td><td>4</td></tr>
    <tr><td class='row_index'>4</td><td>Pilosa</td><td>Three-toed sloth</td><td>14.4</td></tr>
    <tr><td class='row_index'>5</td><td>Carnivora</td><td>Northern fur seal</td><td>8.7</td></tr>
    <tr><td class='row_index'>6</td><td>Carnivora</td><td>Dog</td><td>10.1</td></tr>
    <tr><td class='row_index'>7</td><td>Artiodactyla</td><td>Roe deer</td><td>3</td></tr>
    <tr><td class='row_index'>8</td><td>Artiodactyla</td><td>Goat</td><td>5.3</td></tr>
    <tr><td class='row_index'>9</td><td>Primates</td><td>Grivet</td><td>10</td></tr>
    <tr><td class='row_index'>10</td><td>Soricomorpha</td><td>Star-nosed mole</td><td>10.3</td></tr>
    <tr><td class='row_index'>11</td><td>Soricomorpha</td><td>Lesser short-tailed shrew</td><td>9.1</td></tr>
    <tr><td class='row_index'>12</td><td>Cingulata</td><td>Long-nosed armadillo</td><td>17.4</td></tr>
    <tr><td class='row_index'>13</td><td>Hyracoidea</td><td>Tree hyrax</td><td>5.3</td></tr>
    <tr><td class='row_index'>14</td><td>Didelphimorphia</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>56</td><td>Scandentia</td><td>Tree shrew</td><td>8.9</td></tr>
    <tr><td class='row_index'>57</td><td>Cetacea</td><td>Bottle-nosed dolphin</td><td>5.2</td></tr>
    <tr><td class='row_index'>58</td><td>Carnivora</td><td>Genet</td><td>6.3</td></tr>
    <tr><td class='row_index'>59</td><td>Carnivora</td><td>Arctic fox</td><td>12.5</td></tr>
    <tr><td class='row_index'>60</td><td>Carnivora</td><td>Red fox</td><td>9.8</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>61 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[</span><span class="n">f</span><span class="o">.</span><span class="n">name</span> <span class="o">&gt;</span> <span class="s1">&#39;V&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Rodentia</td><td>Vesper mouse</td><td>7</td></tr>
    <tr><td class='row_index'>1</td><td>Rodentia</td><td>Western american chipmunk</td><td>14.9</td></tr>
    <tr><td class='row_index'>2</td><td>Rodentia</td><td>Vole</td><td>12.8</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>3 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<p>In the examples above, only one animal is used; to select more animals, you could pass a list of conditions, with the <code class="docutils literal notranslate"><span class="pre">|</span></code> (or) symbol:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s2">&quot;Didelphimorphia&quot;</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">order</span> <span class="o">==</span> <span class="s2">&quot;Diprotodontia&quot;</span><span class="p">)</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Didelphimorphia</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>1</td><td>Didelphimorphia</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
    <tr><td class='row_index'>2</td><td>Diprotodontia</td><td>Phalanger</td><td>13.7</td></tr>
    <tr><td class='row_index'>3</td><td>Diprotodontia</td><td>Potoroo</td><td>11.1</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<p>However, this can become unwieldy, as the number of animals increase. At the moment, there is no equivalent of pythonâ€™s <a class="reference external" href="https://docs.python.org/3/reference/expressions.html#membership-test-operations">in</a> operator in <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/index-api.html">datatable</a>; letâ€™s create a temporary <a class="reference external" href="https://stackoverflow.com/a/61509482/7175713">function</a> to help with this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>

<span class="k">def</span> <span class="nf">isin</span><span class="p">(</span><span class="n">column</span><span class="p">,</span> <span class="n">sequence_of_labels</span><span class="p">):</span>
    <span class="n">func</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">f</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span>
    <span class="k">return</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="nb">map</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">sequence_of_labels</span><span class="p">))</span>


<span class="n">labels</span> <span class="o">=</span>  <span class="p">(</span><span class="s2">&quot;Didelphimorphia&quot;</span><span class="p">,</span> <span class="s2">&quot;Diprotodontia&quot;</span><span class="p">)</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">isin</span><span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="p">),</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Didelphimorphia</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>1</td><td>Didelphimorphia</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
    <tr><td class='row_index'>2</td><td>Diprotodontia</td><td>Phalanger</td><td>13.7</td></tr>
    <tr><td class='row_index'>3</td><td>Diprotodontia</td><td>Potoroo</td><td>11.1</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<p>You can also deselect certain groups using the <code class="docutils literal notranslate"><span class="pre">isin</span></code> function above, and combine it with the <code class="docutils literal notranslate"><span class="pre">~</span></code> symbol:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">labels</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;Rodentia&quot;</span><span class="p">,</span> <span class="s2">&quot;Carnivora&quot;</span><span class="p">,</span> <span class="s2">&quot;Primates&quot;</span><span class="p">)</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]</span>

<span class="n">DT</span><span class="p">[</span><span class="o">~</span><span class="n">isin</span><span class="p">(</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="p">),</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>order</th><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Soricomorpha</td><td>Greater short-tailed shrew</td><td>14.9</td></tr>
    <tr><td class='row_index'>1</td><td>Artiodactyla</td><td>Cow</td><td>4</td></tr>
    <tr><td class='row_index'>2</td><td>Pilosa</td><td>Three-toed sloth</td><td>14.4</td></tr>
    <tr><td class='row_index'>3</td><td>Artiodactyla</td><td>Roe deer</td><td>3</td></tr>
    <tr><td class='row_index'>4</td><td>Artiodactyla</td><td>Goat</td><td>5.3</td></tr>
    <tr><td class='row_index'>5</td><td>Soricomorpha</td><td>Star-nosed mole</td><td>10.3</td></tr>
    <tr><td class='row_index'>6</td><td>Soricomorpha</td><td>Lesser short-tailed shrew</td><td>9.1</td></tr>
    <tr><td class='row_index'>7</td><td>Cingulata</td><td>Long-nosed armadillo</td><td>17.4</td></tr>
    <tr><td class='row_index'>8</td><td>Hyracoidea</td><td>Tree hyrax</td><td>5.3</td></tr>
    <tr><td class='row_index'>9</td><td>Didelphimorphia</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>10</td><td>Proboscidea</td><td>Asian elephant</td><td>3.9</td></tr>
    <tr><td class='row_index'>11</td><td>Chiroptera</td><td>Big brown bat</td><td>19.7</td></tr>
    <tr><td class='row_index'>12</td><td>Perissodactyla</td><td>Horse</td><td>2.9</td></tr>
    <tr><td class='row_index'>13</td><td>Perissodactyla</td><td>Donkey</td><td>3.1</td></tr>
    <tr><td class='row_index'>14</td><td>Erinaceomorpha</td><td>European hedgehog</td><td>10.1</td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>32</td><td>Monotremata</td><td>Short-nosed echidna</td><td>8.6</td></tr>
    <tr><td class='row_index'>33</td><td>Perissodactyla</td><td>Brazilian tapir</td><td>4.4</td></tr>
    <tr><td class='row_index'>34</td><td>Afrosoricida</td><td>Tenrec</td><td>15.6</td></tr>
    <tr><td class='row_index'>35</td><td>Scandentia</td><td>Tree shrew</td><td>8.9</td></tr>
    <tr><td class='row_index'>36</td><td>Cetacea</td><td>Bottle-nosed dolphin</td><td>5.2</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>37 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
</section>
<section id="filtering-rows-based-on-regex">
<h3>Filtering Rows Based on Regex<a class="headerlink" href="#filtering-rows-based-on-regex" title="Link to this heading">#</a></h3>
<p>There are scenarios where you need to filter string columns based on partial matches; a regular expression comes in handy here.</p>
<p>At the moment, there are very few string functions in <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/index-api.html">datatable</a>; However, we can make do with the <code class="docutils literal notranslate"><span class="pre">re_match</span></code> function, which is similar to Pythonâ€™s <a class="reference external" href="https://docs.python.org/3/library/re.html#re.Pattern.match">re.match</a> to get by.</p>
<p>Letâ€™s filter for rows where <code class="docutils literal notranslate"><span class="pre">mouse</span></code> can be found in the column <code class="docutils literal notranslate"><span class="pre">name</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]</span>

<span class="c1"># returns a boolean column </span>
<span class="n">row</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;.*mouse.*&#39;</span><span class="p">)</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>North American Opossum</td><td>18</td></tr>
    <tr><td class='row_index'>1</td><td>Thick-tailed opposum</td><td>19.4</td></tr>
    <tr><td class='row_index'>2</td><td>Phalanger</td><td>13.7</td></tr>
    <tr><td class='row_index'>3</td><td>Potoroo</td><td>11.1</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>4 rows &times; 2 columns</div>
  </div>
</div>
</div></div>
</div>
</section>
<section id="filtering-rows-based-on-multiple-conditions">
<h3>Filtering Rows based on Multiple Conditions<a class="headerlink" href="#filtering-rows-based-on-multiple-conditions" title="Link to this heading">#</a></h3>
<p>Select rows with a <code class="docutils literal notranslate"><span class="pre">bodywt</span></code> above 100 and either have a <code class="docutils literal notranslate"><span class="pre">sleep_total</span></code> above 15, or are not part of the <code class="docutils literal notranslate"><span class="pre">Carnivora</span></code> <code class="docutils literal notranslate"><span class="pre">order</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">bodywt</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">((</span><span class="n">f</span><span class="o">.</span><span class="n">sleep_total</span> <span class="o">&gt;</span> <span class="mi">15</span><span class="p">)</span> <span class="o">|</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">order</span> <span class="o">!=</span> <span class="s2">&quot;Carnivora&quot;</span><span class="p">))</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;order&quot;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span> <span class="s2">&quot;bodywt&quot;</span><span class="p">)]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>order</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th><th>awake</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cow</td><td>Artiodactyla</td><td>4</td><td>0.7</td><td>0.666667</td><td>20</td><td>0.423</td><td>600</td></tr>
    <tr><td class='row_index'>1</td><td>Asian elephant</td><td>Proboscidea</td><td>3.9</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>20.1</td><td>4.603</td><td>2547</td></tr>
    <tr><td class='row_index'>2</td><td>Horse</td><td>Perissodactyla</td><td>2.9</td><td>0.6</td><td>1</td><td>21.1</td><td>0.655</td><td>521</td></tr>
    <tr><td class='row_index'>3</td><td>Donkey</td><td>Perissodactyla</td><td>3.1</td><td>0.4</td><td><span class=na>NA</span></td><td>20.9</td><td>0.419</td><td>187</td></tr>
    <tr><td class='row_index'>4</td><td>Giraffe</td><td>Artiodactyla</td><td>1.9</td><td>0.4</td><td><span class=na>NA</span></td><td>22.1</td><td><span class=na>NA</span></td><td>899.995</td></tr>
    <tr><td class='row_index'>5</td><td>Pilot whale</td><td>Cetacea</td><td>2.7</td><td>0.1</td><td><span class=na>NA</span></td><td>21.35</td><td><span class=na>NA</span></td><td>800</td></tr>
    <tr><td class='row_index'>6</td><td>African elephant</td><td>Proboscidea</td><td>3.3</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>20.7</td><td>5.712</td><td>6654</td></tr>
    <tr><td class='row_index'>7</td><td>Tiger</td><td>Carnivora</td><td>15.8</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>8.2</td><td><span class=na>NA</span></td><td>162.564</td></tr>
    <tr><td class='row_index'>8</td><td>Brazilian tapir</td><td>Perissodactyla</td><td>4.4</td><td>1</td><td>0.9</td><td>19.6</td><td>0.169</td><td>207.501</td></tr>
    <tr><td class='row_index'>9</td><td>Bottle-nosed dolphin</td><td>Cetacea</td><td>5.2</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>18.8</td><td><span class=na>NA</span></td><td>173.33</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>10 rows &times; 8 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Return rows where <code class="docutils literal notranslate"><span class="pre">bodywt</span></code> is either greater than 100 or <code class="docutils literal notranslate"><span class="pre">brainwt</span></code> greater than 1, but not both:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="n">xor</span><span class="p">((</span><span class="n">f</span><span class="o">.</span><span class="n">bodywt</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">),</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">brainwt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">))</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;bodywt&quot;</span><span class="p">,</span> <span class="s2">&quot;brainwt&quot;</span><span class="p">)]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>bodywt</th><th>brainwt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cow</td><td>600</td><td>0.423</td></tr>
    <tr><td class='row_index'>1</td><td>Horse</td><td>521</td><td>0.655</td></tr>
    <tr><td class='row_index'>2</td><td>Donkey</td><td>187</td><td>0.419</td></tr>
    <tr><td class='row_index'>3</td><td>Giraffe</td><td>899.995</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>4</td><td>Pilot whale</td><td>800</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>5</td><td>Human</td><td>62</td><td>1.32</td></tr>
    <tr><td class='row_index'>6</td><td>Tiger</td><td>162.564</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>7</td><td>Lion</td><td>161.499</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>8</td><td>Brazilian tapir</td><td>207.501</td><td>0.169</td></tr>
    <tr><td class='row_index'>9</td><td>Bottle-nosed dolphin</td><td>173.33</td><td><span class=na>NA</span></td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>10 rows &times; 3 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Select all rows where <code class="docutils literal notranslate"><span class="pre">brainwt</span></code> is larger than 1, but <code class="docutils literal notranslate"><span class="pre">bodywt</span></code> does not exceed 100:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">bodywt</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">brainwt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_total&quot;</span><span class="p">,</span> <span class="s2">&quot;brainwt&quot;</span><span class="p">,</span> <span class="s2">&quot;bodywt&quot;</span><span class="p">]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Human</td><td>8</td><td>1.32</td><td>62</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>1 row &times; 4 columns</div>
  </div>
</div>
</div></div>
</div>
</section>
<section id="filtering-out-empty-rows">
<h3>Filtering out Empty Rows<a class="headerlink" href="#filtering-out-empty-rows" title="Link to this heading">#</a></h3>
<p>There are two options for filtering out empty rows - comparing with <code class="docutils literal notranslate"><span class="pre">None</span></code>, or using the <code class="docutils literal notranslate"><span class="pre">isna</span></code> function:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">conservation</span> <span class="o">!=</span> <span class="kc">None</span> 

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;conservation&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_cycle&quot;</span><span class="p">)]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>conservation</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cheetah</td><td>lc</td><td>12.1</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>1</td><td>Mountain beaver</td><td>nt</td><td>14.4</td><td>2.4</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>2</td><td>Greater short-tailed shrew</td><td>lc</td><td>14.9</td><td>2.3</td><td>0.133333</td></tr>
    <tr><td class='row_index'>3</td><td>Cow</td><td>domesticated</td><td>4</td><td>0.7</td><td>0.666667</td></tr>
    <tr><td class='row_index'>4</td><td>Northern fur seal</td><td>vu</td><td>8.7</td><td>1.4</td><td>0.383333</td></tr>
    <tr><td class='row_index'>5</td><td>Dog</td><td>domesticated</td><td>10.1</td><td>2.9</td><td>0.333333</td></tr>
    <tr><td class='row_index'>6</td><td>Roe deer</td><td>lc</td><td>3</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>7</td><td>Goat</td><td>lc</td><td>5.3</td><td>0.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>8</td><td>Guinea pig</td><td>domesticated</td><td>9.4</td><td>0.8</td><td>0.216667</td></tr>
    <tr><td class='row_index'>9</td><td>Grivet</td><td>lc</td><td>10</td><td>0.7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>10</td><td>Chinchilla</td><td>domesticated</td><td>12.5</td><td>1.5</td><td>0.116667</td></tr>
    <tr><td class='row_index'>11</td><td>Star-nosed mole</td><td>lc</td><td>10.3</td><td>2.2</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>12</td><td>Lesser short-tailed shrew</td><td>lc</td><td>9.1</td><td>1.4</td><td>0.15</td></tr>
    <tr><td class='row_index'>13</td><td>Long-nosed armadillo</td><td>lc</td><td>17.4</td><td>3.1</td><td>0.383333</td></tr>
    <tr><td class='row_index'>14</td><td>Tree hyrax</td><td>lc</td><td>5.3</td><td>0.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>49</td><td>Arctic ground squirrel</td><td>lc</td><td>16.6</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>50</td><td>Thirteen-lined ground squirrel</td><td>lc</td><td>13.8</td><td>3.4</td><td>0.216667</td></tr>
    <tr><td class='row_index'>51</td><td>Golden-mantled ground squirrel</td><td>lc</td><td>15.9</td><td>3</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>52</td><td>Pig</td><td>domesticated</td><td>9.1</td><td>2.4</td><td>0.5</td></tr>
    <tr><td class='row_index'>53</td><td>Brazilian tapir</td><td>vu</td><td>4.4</td><td>1</td><td>0.9</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>54 rows &times; 5 columns</div>
  </div>
</div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="o">~</span><span class="n">dt</span><span class="o">.</span><span class="n">isna</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">conservation</span><span class="p">)</span> 

<span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="nb">slice</span><span class="p">(</span><span class="s2">&quot;conservation&quot;</span><span class="p">,</span> <span class="s2">&quot;sleep_cycle&quot;</span><span class="p">)]</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>conservation</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cheetah</td><td>lc</td><td>12.1</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>1</td><td>Mountain beaver</td><td>nt</td><td>14.4</td><td>2.4</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>2</td><td>Greater short-tailed shrew</td><td>lc</td><td>14.9</td><td>2.3</td><td>0.133333</td></tr>
    <tr><td class='row_index'>3</td><td>Cow</td><td>domesticated</td><td>4</td><td>0.7</td><td>0.666667</td></tr>
    <tr><td class='row_index'>4</td><td>Northern fur seal</td><td>vu</td><td>8.7</td><td>1.4</td><td>0.383333</td></tr>
    <tr><td class='row_index'>5</td><td>Dog</td><td>domesticated</td><td>10.1</td><td>2.9</td><td>0.333333</td></tr>
    <tr><td class='row_index'>6</td><td>Roe deer</td><td>lc</td><td>3</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>7</td><td>Goat</td><td>lc</td><td>5.3</td><td>0.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>8</td><td>Guinea pig</td><td>domesticated</td><td>9.4</td><td>0.8</td><td>0.216667</td></tr>
    <tr><td class='row_index'>9</td><td>Grivet</td><td>lc</td><td>10</td><td>0.7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>10</td><td>Chinchilla</td><td>domesticated</td><td>12.5</td><td>1.5</td><td>0.116667</td></tr>
    <tr><td class='row_index'>11</td><td>Star-nosed mole</td><td>lc</td><td>10.3</td><td>2.2</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>12</td><td>Lesser short-tailed shrew</td><td>lc</td><td>9.1</td><td>1.4</td><td>0.15</td></tr>
    <tr><td class='row_index'>13</td><td>Long-nosed armadillo</td><td>lc</td><td>17.4</td><td>3.1</td><td>0.383333</td></tr>
    <tr><td class='row_index'>14</td><td>Tree hyrax</td><td>lc</td><td>5.3</td><td>0.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>49</td><td>Arctic ground squirrel</td><td>lc</td><td>16.6</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>50</td><td>Thirteen-lined ground squirrel</td><td>lc</td><td>13.8</td><td>3.4</td><td>0.216667</td></tr>
    <tr><td class='row_index'>51</td><td>Golden-mantled ground squirrel</td><td>lc</td><td>15.9</td><td>3</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>52</td><td>Pig</td><td>domesticated</td><td>9.1</td><td>2.4</td><td>0.5</td></tr>
    <tr><td class='row_index'>53</td><td>Brazilian tapir</td><td>vu</td><td>4.4</td><td>1</td><td>0.9</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>54 rows &times; 5 columns</div>
  </div>
</div>
</div></div>
</div>
</section>
</section>
<section id="filtering-across-multiple-columns">
<h2>Filtering across Multiple Columns<a class="headerlink" href="#filtering-across-multiple-columns" title="Link to this heading">#</a></h2>
<section id="filter-across-all-columns">
<h3>Filter across all Columns<a class="headerlink" href="#filter-across-all-columns" title="Link to this heading">#</a></h3>
<p>It is possible to filter for rows based on values across columns.</p>
<p>One thing to note, and be careful about, is that in <a class="reference external" href="https://datatable.readthedocs.io/en/latest/start/quick-start.html">datatable</a>, within the same bracket, operations in the <code class="docutils literal notranslate"><span class="pre">i</span></code> section, occur before any operation within the <code class="docutils literal notranslate"><span class="pre">j</span></code> section; as such, depending on the context, and to ensure the right output, it is better to select the columns first, then chain the row filtration via another bracket. The examples below should make this clearer.</p>
<p>Letâ€™s filter for rows across the selected columns, keeping only rows where any column has the pattern <code class="docutils literal notranslate"><span class="pre">Ca</span></code> inside:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">vore</span><span class="p">)</span>
<span class="n">rows</span> <span class="o">=</span> <span class="n">dt</span><span class="o">.</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="s2">&quot;.*Ca.*&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">rowany</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>genus</th><th>order</th><th>sleep_total</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cheetah</td><td>Acinonyx</td><td>Carnivora</td><td>12.1</td></tr>
    <tr><td class='row_index'>1</td><td>Northern fur seal</td><td>Callorhinus</td><td>Carnivora</td><td>8.7</td></tr>
    <tr><td class='row_index'>2</td><td>Vesper mouse</td><td>Calomys</td><td>Rodentia</td><td>7</td></tr>
    <tr><td class='row_index'>3</td><td>Dog</td><td>Canis</td><td>Carnivora</td><td>10.1</td></tr>
    <tr><td class='row_index'>4</td><td>Roe deer</td><td>Capreolus</td><td>Artiodactyla</td><td>3</td></tr>
    <tr><td class='row_index'>5</td><td>Goat</td><td>Capri</td><td>Artiodactyla</td><td>5.3</td></tr>
    <tr><td class='row_index'>6</td><td>Guinea pig</td><td>Cavis</td><td>Rodentia</td><td>9.4</td></tr>
    <tr><td class='row_index'>7</td><td>Domestic cat</td><td>Felis</td><td>Carnivora</td><td>12.5</td></tr>
    <tr><td class='row_index'>8</td><td>Gray seal</td><td>Haliochoerus</td><td>Carnivora</td><td>6.2</td></tr>
    <tr><td class='row_index'>9</td><td>Tiger</td><td>Panthera</td><td>Carnivora</td><td>15.8</td></tr>
    <tr><td class='row_index'>10</td><td>Jaguar</td><td>Panthera</td><td>Carnivora</td><td>10.4</td></tr>
    <tr><td class='row_index'>11</td><td>Lion</td><td>Panthera</td><td>Carnivora</td><td>13.5</td></tr>
    <tr><td class='row_index'>12</td><td>Caspian seal</td><td>Phoca</td><td>Carnivora</td><td>3.5</td></tr>
    <tr><td class='row_index'>13</td><td>Genet</td><td>Genetta</td><td>Carnivora</td><td>6.3</td></tr>
    <tr><td class='row_index'>14</td><td>Arctic fox</td><td>Vulpes</td><td>Carnivora</td><td>12.5</td></tr>
    <tr><td class='row_index'>15</td><td>Red fox</td><td>Vulpes</td><td>Carnivora</td><td>9.8</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>16 rows &times; 4 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Letâ€™s look at another example, to filter for rows, across selected columns, where any column has a value less than 0.1:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span><span class="p">:</span><span class="s1">&#39;bodywt&#39;</span><span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">0.1</span><span class="p">)</span><span class="o">.</span><span class="n">rowany</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th><th>awake</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Owl monkey</td><td>17</td><td>1.8</td><td><span class=na>NA</span></td><td>7</td><td>0.0155</td><td>0.48</td></tr>
    <tr><td class='row_index'>1</td><td>Greater short-tailed shrew</td><td>14.9</td><td>2.3</td><td>0.133333</td><td>9.1</td><td>0.00029</td><td>0.019</td></tr>
    <tr><td class='row_index'>2</td><td>Vesper mouse</td><td>7</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>17</td><td><span class=na>NA</span></td><td>0.045</td></tr>
    <tr><td class='row_index'>3</td><td>Dog</td><td>10.1</td><td>2.9</td><td>0.333333</td><td>13.9</td><td>0.07</td><td>14</td></tr>
    <tr><td class='row_index'>4</td><td>Roe deer</td><td>3</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>21</td><td>0.0982</td><td>14.8</td></tr>
    <tr><td class='row_index'>5</td><td>Guinea pig</td><td>9.4</td><td>0.8</td><td>0.216667</td><td>14.6</td><td>0.0055</td><td>0.728</td></tr>
    <tr><td class='row_index'>6</td><td>Chinchilla</td><td>12.5</td><td>1.5</td><td>0.116667</td><td>11.5</td><td>0.0064</td><td>0.42</td></tr>
    <tr><td class='row_index'>7</td><td>Star-nosed mole</td><td>10.3</td><td>2.2</td><td><span class=na>NA</span></td><td>13.7</td><td>0.001</td><td>0.06</td></tr>
    <tr><td class='row_index'>8</td><td>African giant pouched rat</td><td>8.3</td><td>2</td><td><span class=na>NA</span></td><td>15.7</td><td>0.0066</td><td>1</td></tr>
    <tr><td class='row_index'>9</td><td>Lesser short-tailed shrew</td><td>9.1</td><td>1.4</td><td>0.15</td><td>14.9</td><td>0.00014</td><td>0.005</td></tr>
    <tr><td class='row_index'>10</td><td>Long-nosed armadillo</td><td>17.4</td><td>3.1</td><td>0.383333</td><td>6.6</td><td>0.0108</td><td>3.5</td></tr>
    <tr><td class='row_index'>11</td><td>Tree hyrax</td><td>5.3</td><td>0.5</td><td><span class=na>NA</span></td><td>18.7</td><td>0.0123</td><td>2.95</td></tr>
    <tr><td class='row_index'>12</td><td>North American Opossum</td><td>18</td><td>4.9</td><td>0.333333</td><td>6</td><td>0.0063</td><td>1.7</td></tr>
    <tr><td class='row_index'>13</td><td>Big brown bat</td><td>19.7</td><td>3.9</td><td>0.116667</td><td>4.3</td><td>0.0003</td><td>0.023</td></tr>
    <tr><td class='row_index'>14</td><td>European hedgehog</td><td>10.1</td><td>3.5</td><td>0.283333</td><td>13.9</td><td>0.0035</td><td>0.77</td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>42</td><td>Tenrec</td><td>15.6</td><td>2.3</td><td><span class=na>NA</span></td><td>8.4</td><td>0.0026</td><td>0.9</td></tr>
    <tr><td class='row_index'>43</td><td>Tree shrew</td><td>8.9</td><td>2.6</td><td>0.233333</td><td>15.1</td><td>0.0025</td><td>0.104</td></tr>
    <tr><td class='row_index'>44</td><td>Genet</td><td>6.3</td><td>1.3</td><td><span class=na>NA</span></td><td>17.7</td><td>0.0175</td><td>2</td></tr>
    <tr><td class='row_index'>45</td><td>Arctic fox</td><td>12.5</td><td><span class=na>NA</span></td><td><span class=na>NA</span></td><td>11.5</td><td>0.0445</td><td>3.38</td></tr>
    <tr><td class='row_index'>46</td><td>Red fox</td><td>9.8</td><td>2.4</td><td>0.35</td><td>14.2</td><td>0.0504</td><td>4.23</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>47 rows &times; 7 columns</div>
  </div>
</div>
</div></div>
</div>
<p>The above example only requires that at least one column has a value less than 0.1. What if the goal is to return only rows where all the columns have values above 1?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span> <span class="p">:</span> <span class="s1">&#39;bodywt&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">awake</span><span class="p">)</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">rowall</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th><th>sleep_rem</th><th>sleep_cycle</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Human</td><td>8</td><td>1.9</td><td>1.5</td><td>1.32</td><td>62</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>1 row &times; 6 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Note the change from <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/dt/rowany.html">rowany</a> to <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/dt/rowall.html">rowall</a>; <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/dt/rowany.html">rowany</a> will return <code class="docutils literal notranslate"><span class="pre">True</span></code> for rows where <code class="docutils literal notranslate"><span class="pre">ANY</span></code> column matches the condition, whereas <a class="reference external" href="https://datatable.readthedocs.io/en/latest/api/dt/rowall.html">rowall</a> will only return <code class="docutils literal notranslate"><span class="pre">True</span></code> for rows where <code class="docutils literal notranslate"><span class="pre">ALL</span></code> columns match the condition.</p>
<p>All the examples so far combine <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code> within a single bracket; so why all the noise about context and selecting columns first before rows? The next section should shed more light.</p>
<p>You can also limit the filtration to columns that match a particular type; the examples above show how that can be done. This can be handy in certain situations where the target is not limited to one data type.</p>
<p>Consider the example below, where only rows that have nulls should be returned. Nulls can be both in numeric and string columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span> <span class="p">:</span> <span class="s1">&#39;order&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span> <span class="p">:</span> <span class="s1">&#39;sleep_rem&#39;</span><span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[:]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">rowany</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[:,</span> <span class="n">columns</span><span class="p">][</span><span class="n">rows</span><span class="p">,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>genus</th><th>vore</th><th>order</th><th>sleep_total</th><th>sleep_rem</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Cheetah</td><td>Acinonyx</td><td>carni</td><td>Carnivora</td><td>12.1</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>1</td><td>Vesper mouse</td><td>Calomys</td><td><span class=na>NA</span></td><td>Rodentia</td><td>7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>2</td><td>Roe deer</td><td>Capreolus</td><td>herbi</td><td>Artiodactyla</td><td>3</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>3</td><td>Asian elephant</td><td>Elephas</td><td>herbi</td><td>Proboscidea</td><td>3.9</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>4</td><td>Western american chipmunk</td><td>Eutamias</td><td>herbi</td><td>Rodentia</td><td>14.9</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>5</td><td>African elephant</td><td>Loxodonta</td><td>herbi</td><td>Proboscidea</td><td>3.3</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>6</td><td>Vole</td><td>Microtus</td><td>herbi</td><td>Rodentia</td><td>12.8</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>7</td><td>Round-tailed muskrat</td><td>Neofiber</td><td>herbi</td><td>Rodentia</td><td>14.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>8</td><td>Slow loris</td><td>Nyctibeus</td><td>carni</td><td>Primates</td><td>11</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>9</td><td>Northern grasshopper mouse</td><td>Onychomys</td><td>carni</td><td>Rodentia</td><td>14.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>10</td><td>Tiger</td><td>Panthera</td><td>carni</td><td>Carnivora</td><td>15.8</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>11</td><td>Jaguar</td><td>Panthera</td><td>carni</td><td>Carnivora</td><td>10.4</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>12</td><td>Lion</td><td>Panthera</td><td>carni</td><td>Carnivora</td><td>13.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>13</td><td>Desert hedgehog</td><td>Paraechinus</td><td><span class=na>NA</span></td><td>Erinaceomorpha</td><td>10.3</td><td>2.7</td></tr>
    <tr><td class='row_index'>14</td><td>Potto</td><td>Perodicticus</td><td>omni</td><td>Primates</td><td>11</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>15</td><td>Deer mouse</td><td>Peromyscus</td><td><span class=na>NA</span></td><td>Rodentia</td><td>11.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>16</td><td>Phalanger</td><td>Phalanger</td><td><span class=na>NA</span></td><td>Diprotodontia</td><td>13.7</td><td>1.8</td></tr>
    <tr><td class='row_index'>17</td><td>Common porpoise</td><td>Phocoena</td><td>carni</td><td>Cetacea</td><td>5.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>18</td><td>Rock hyrax</td><td>Procavia</td><td><span class=na>NA</span></td><td>Hyracoidea</td><td>5.4</td><td>0.5</td></tr>
    <tr><td class='row_index'>19</td><td>African striped mouse</td><td>Rhabdomys</td><td>omni</td><td>Rodentia</td><td>8.7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>20</td><td>Mole rat</td><td>Spalax</td><td><span class=na>NA</span></td><td>Rodentia</td><td>10.6</td><td>2.4</td></tr>
    <tr><td class='row_index'>21</td><td>Arctic ground squirrel</td><td>Spermophilus</td><td>herbi</td><td>Rodentia</td><td>16.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>22</td><td>Musk shrew</td><td>Suncus</td><td><span class=na>NA</span></td><td>Soricomorpha</td><td>12.8</td><td>2</td></tr>
    <tr><td class='row_index'>23</td><td>Short-nosed echidna</td><td>Tachyglossus</td><td>insecti</td><td>Monotremata</td><td>8.6</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>24</td><td>Eastern american chipmunk</td><td>Tamias</td><td>herbi</td><td>Rodentia</td><td>15.8</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>25</td><td>Bottle-nosed dolphin</td><td>Tursiops</td><td>carni</td><td>Cetacea</td><td>5.2</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>26</td><td>Arctic fox</td><td>Vulpes</td><td>carni</td><td>Carnivora</td><td>12.5</td><td><span class=na>NA</span></td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>27 rows &times; 6 columns</div>
  </div>
</div>
</div></div>
</div>
<p>However, we are only interested in rows where the string columns are null; simply modifying the selected columns in <code class="docutils literal notranslate"><span class="pre">rows</span></code> should resolve this:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">==</span> <span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">rowany</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>genus</th><th>vore</th><th>order</th><th>sleep_total</th><th>sleep_rem</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Owl monkey</td><td>Aotus</td><td>omni</td><td>Primates</td><td>17</td><td>1.8</td></tr>
    <tr><td class='row_index'>1</td><td>Three-toed sloth</td><td>Bradypus</td><td>herbi</td><td>Pilosa</td><td>14.4</td><td>2.2</td></tr>
    <tr><td class='row_index'>2</td><td>Vesper mouse</td><td>Calomys</td><td><span class=na>NA</span></td><td>Rodentia</td><td>7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>3</td><td>African giant pouched rat</td><td>Cricetomys</td><td>omni</td><td>Rodentia</td><td>8.3</td><td>2</td></tr>
    <tr><td class='row_index'>4</td><td>Western american chipmunk</td><td>Eutamias</td><td>herbi</td><td>Rodentia</td><td>14.9</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>5</td><td>Galago</td><td>Galago</td><td>omni</td><td>Primates</td><td>9.8</td><td>1.1</td></tr>
    <tr><td class='row_index'>6</td><td>Human</td><td>Homo</td><td>omni</td><td>Primates</td><td>8</td><td>1.9</td></tr>
    <tr><td class='row_index'>7</td><td>Macaque</td><td>Macaca</td><td>omni</td><td>Primates</td><td>10.1</td><td>1.2</td></tr>
    <tr><td class='row_index'>8</td><td>Vole</td><td>Microtus</td><td>herbi</td><td>Rodentia</td><td>12.8</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>9</td><td>Little brown bat</td><td>Myotis</td><td>insecti</td><td>Chiroptera</td><td>19.9</td><td>2</td></tr>
    <tr><td class='row_index'>10</td><td>Slow loris</td><td>Nyctibeus</td><td>carni</td><td>Primates</td><td>11</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>11</td><td>Chimpanzee</td><td>Pan</td><td>omni</td><td>Primates</td><td>9.7</td><td>1.4</td></tr>
    <tr><td class='row_index'>12</td><td>Baboon</td><td>Papio</td><td>omni</td><td>Primates</td><td>9.4</td><td>1</td></tr>
    <tr><td class='row_index'>13</td><td>Desert hedgehog</td><td>Paraechinus</td><td><span class=na>NA</span></td><td>Erinaceomorpha</td><td>10.3</td><td>2.7</td></tr>
    <tr><td class='row_index'>14</td><td>Deer mouse</td><td>Peromyscus</td><td><span class=na>NA</span></td><td>Rodentia</td><td>11.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td><td class='hellipsis'>&#x22EE;</td></tr>
    <tr><td class='row_index'>26</td><td>Tree shrew</td><td>Tupaia</td><td>omni</td><td>Scandentia</td><td>8.9</td><td>2.6</td></tr>
    <tr><td class='row_index'>27</td><td>Bottle-nosed dolphin</td><td>Tursiops</td><td>carni</td><td>Cetacea</td><td>5.2</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>28</td><td>Genet</td><td>Genetta</td><td>carni</td><td>Carnivora</td><td>6.3</td><td>1.3</td></tr>
    <tr><td class='row_index'>29</td><td>Arctic fox</td><td>Vulpes</td><td>carni</td><td>Carnivora</td><td>12.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>30</td><td>Red fox</td><td>Vulpes</td><td>carni</td><td>Carnivora</td><td>9.8</td><td>2.4</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>31 rows &times; 6 columns</div>
  </div>
</div>
</div></div>
</div>
<p>That doesnâ€™t seem right. There are no missing values in rows 0 and 1, same for rows 26 and 30. Whatâ€™s going on?</p>
<p>As mentioned earlier, operations in <code class="docutils literal notranslate"><span class="pre">i</span></code> occur before <code class="docutils literal notranslate"><span class="pre">j</span></code>; in the code above, ALL the string columns in the frame were filtered, and not restricted to the selected columns. The right way about it is to select the columns first, then chain the row filtration:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">DT</span><span class="p">[:,</span> <span class="n">columns</span><span class="p">][</span><span class="n">rows</span><span class="p">,</span> <span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>genus</th><th>vore</th><th>order</th><th>sleep_total</th><th>sleep_rem</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Vesper mouse</td><td>Calomys</td><td><span class=na>NA</span></td><td>Rodentia</td><td>7</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>1</td><td>Desert hedgehog</td><td>Paraechinus</td><td><span class=na>NA</span></td><td>Erinaceomorpha</td><td>10.3</td><td>2.7</td></tr>
    <tr><td class='row_index'>2</td><td>Deer mouse</td><td>Peromyscus</td><td><span class=na>NA</span></td><td>Rodentia</td><td>11.5</td><td><span class=na>NA</span></td></tr>
    <tr><td class='row_index'>3</td><td>Phalanger</td><td>Phalanger</td><td><span class=na>NA</span></td><td>Diprotodontia</td><td>13.7</td><td>1.8</td></tr>
    <tr><td class='row_index'>4</td><td>Rock hyrax</td><td>Procavia</td><td><span class=na>NA</span></td><td>Hyracoidea</td><td>5.4</td><td>0.5</td></tr>
    <tr><td class='row_index'>5</td><td>Mole rat</td><td>Spalax</td><td><span class=na>NA</span></td><td>Rodentia</td><td>10.6</td><td>2.4</td></tr>
    <tr><td class='row_index'>6</td><td>Musk shrew</td><td>Suncus</td><td><span class=na>NA</span></td><td>Soricomorpha</td><td>12.8</td><td>2</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>7 rows &times; 6 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Again, the filtration process depend on the context, and should be adapted accordingly.</p>
</section>
<section id="filter-at">
<h3>Filter at<a class="headerlink" href="#filter-at" title="Link to this heading">#</a></h3>
<p>It is also possible to filter rows based on specific columns:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span> <span class="p">:</span> <span class="s1">&#39;sleep_rem&#39;</span><span class="p">,</span> <span class="s1">&#39;brainwt&#39;</span> <span class="p">:</span> <span class="s1">&#39;bodywt&#39;</span><span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="s1">&#39;sleep_total&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_rem&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">rowall</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th><th>sleep_rem</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Thick-tailed opposum</td><td>19.4</td><td>6.6</td><td><span class=na>NA</span></td><td>0.37</td></tr>
    <tr><td class='row_index'>1</td><td>Giant armadillo</td><td>18.1</td><td>6.1</td><td>0.081</td><td>60</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>2 rows &times; 5 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Note in the example above, the <code class="docutils literal notranslate"><span class="pre">rows</span></code> and <code class="docutils literal notranslate"><span class="pre">columns</span></code> are within the same bracket, because the columns are explicitly specified; only values from those columns will be used for the filtration.</p>
<p>Another example below that uses a different select option:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">columns</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;sleep_total&#39;</span> <span class="p">:</span> <span class="s1">&#39;sleep_rem&#39;</span><span class="p">,</span> <span class="s1">&#39;brainwt&#39;</span> <span class="p">:</span> <span class="s1">&#39;bodywt&#39;</span><span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">[</span><span class="n">name</span> <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">DT</span><span class="p">[:,</span> <span class="n">columns</span><span class="p">]</span><span class="o">.</span><span class="n">names</span> <span class="k">if</span> <span class="s1">&#39;sleep&#39;</span> <span class="ow">in</span> <span class="n">name</span><span class="p">]</span>

<span class="n">rows</span> <span class="o">=</span> <span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">rows</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">rowall</span><span class="p">()</span>

<span class="n">DT</span><span class="p">[</span><span class="n">rows</span><span class="p">,</span> <span class="n">columns</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div class='datatable'>
  <table class='frame'>
  <thead>
    <tr class='colnames'><td class='row_index'></td><th>name</th><th>sleep_total</th><th>sleep_rem</th><th>brainwt</th><th>bodywt</th></tr>
    <tr class='coltypes'><td class='row_index'></td><td class='str' title='str32'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td><td class='float' title='float64'>&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;&#x25AA;</td></tr>
  </thead>
  <tbody>
    <tr><td class='row_index'>0</td><td>Thick-tailed opposum</td><td>19.4</td><td>6.6</td><td><span class=na>NA</span></td><td>0.37</td></tr>
    <tr><td class='row_index'>1</td><td>Giant armadillo</td><td>18.1</td><td>6.1</td><td>0.081</td><td>60</td></tr>
  </tbody>
  </table>
  <div class='footer'>
    <div class='frame_dimensions'>2 rows &times; 5 columns</div>
  </div>
</div>
</div></div>
</div>
<p>Resources:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://datatable.readthedocs.io/en/latest/">datatable docs</a></p></li>
<li><p>Based on datatable version <code class="docutils literal notranslate"><span class="pre">1.1</span></code></p></li>
</ul>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Pivot-Tables-Complex-Unpivoting.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">SpreadSheet Munging Strategies in Python - Pivot Tables - Complex Unpivoting</p>
      </div>
    </a>
    <a class="right-next"
       href="Selecting-and-Grouping-Data-with-Python-Datatable.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Selecting and Grouping Data with Python Datatable</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-row-filters"><strong>Basic Row Filters</strong></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-a-numeric-variable">Filtering Rows Based on a Numeric Variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-based-on-string-matches">Filtering based on String Matches</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-regex">Filtering Rows Based on Regex</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-rows-based-on-multiple-conditions">Filtering Rows based on Multiple Conditions</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-out-empty-rows">Filtering out Empty Rows</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#filtering-across-multiple-columns">Filtering across Multiple Columns</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filter-across-all-columns">Filter across all Columns</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#filter-at">Filter at</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Samuel Oranyeli
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>